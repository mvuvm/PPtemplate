<!DOCTYPE html>
<html lang="ko" class="dark-theme">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="뫄뫄의 포트폴리오" />
    <meta property="og:description" content="일러스트를 그리고 있는 뫄뫄입니다." />
    <meta property="og:image" content="https://mblogthumb-phinf.pstatic.net/MjAyMzA1MTVfODIg/MDAxNjg0MTQ5MjUyMDUz.wVtiocz8ER0N4flM2NXdBhpS13YqpU9oF56DSBTmGTYg.apmhwYQ-47km20ySIcpqxhxdItfO1VaM0SL07j0rPS4g.PNG.mvuvm/%EC%B9%BC%EB%93%A4%EA%B3%A0-%EC%84%9C%EC%9E%88%EB%8A%94-%ED%8F%AC%EB%8B%88%ED%85%8C%EC%9D%BC%EB%82%A8-%EC%97%85%EB%A1%9C%EB%93%9C%EC%9A%A9.png?type=w800" />
    <meta http-equiv="Copyright" content="oo" />
    <title>포트폴리오</title>
    <!-- favicon -->
    <link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' width='72px' height='72px' style='shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd'%3E%3Cg%3E%3Cpath style='opacity:0.876' fill='%235faceb' d='M 9.5,3.5 C 12.8884,3.87393 14.7218,5.87393 15,9.5C 23.3483,12.1599 23.515,14.9933 15.5,18C 14.967,20.4732 13.6337,22.3065 11.5,23.5C 8.7003,22.5879 7.36697,20.5879 7.5,17.5C 2.76984,17.6972 1.10317,15.6972 2.5,11.5C 6.67407,10.5067 9.00741,7.84006 9.5,3.5 Z'/%3E%3C/g%3E%3Cg%3E%3Cpath style='opacity:0.934' fill='%23a98ed5' d='M 39.5,3.5 C 41.1439,3.28649 42.6439,3.61983 44,4.5C 46.4044,11.88 48.9044,19.2134 51.5,26.5C 56.5384,28.235 61.5384,30.0683 66.5,32C 69.8943,33.5652 70.2277,35.5652 67.5,38C 61.904,39.9754 56.404,42.142 51,44.5C 48.6667,51.8333 46.3333,59.1667 44,66.5C 41.9783,67.9909 40.3117,67.6576 39,65.5C 37.1555,58.4552 35.1555,51.4552 33,44.5C 27.596,42.142 22.096,39.9754 16.5,38C 13.6537,37.1207 12.987,35.4541 14.5,33C 20.8439,30.8866 27.0105,28.3866 33,25.5C 35.2745,18.1787 37.4411,10.8453 39.5,3.5 Z'/%3E%3C/g%3E%3Cg%3E%3Cpath style='opacity:0.896' fill='%23fbab42' d='M 17.5,45.5 C 19.1667,45.5 20.8333,45.5 22.5,45.5C 22.0353,50.3207 24.0353,53.4874 28.5,55C 29.7472,56.4936 29.7472,57.9936 28.5,59.5C 26.9411,60.0736 25.4411,60.7402 24,61.5C 23.1785,64.1168 22.6785,66.7835 22.5,69.5C 20.8333,69.5 19.1667,69.5 17.5,69.5C 17.1489,66.7623 16.4822,64.0956 15.5,61.5C 7.5157,58.4614 7.5157,55.4614 15.5,52.5C 16.5771,50.2706 17.2437,47.9372 17.5,45.5 Z'/%3E%3C/g%3E%3C/svg%3E">
    <link rel="apple-touch-icon-precomposed" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' width='72px' height='72px' style='shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd'%3E%3Cg%3E%3Cpath style='opacity:0.876' fill='%235faceb' d='M 9.5,3.5 C 12.8884,3.87393 14.7218,5.87393 15,9.5C 23.3483,12.1599 23.515,14.9933 15.5,18C 14.967,20.4732 13.6337,22.3065 11.5,23.5C 8.7003,22.5879 7.36697,20.5879 7.5,17.5C 2.76984,17.6972 1.10317,15.6972 2.5,11.5C 6.67407,10.5067 9.00741,7.84006 9.5,3.5 Z'/%3E%3C/g%3E%3Cg%3E%3Cpath style='opacity:0.934' fill='%23a98ed5' d='M 39.5,3.5 C 41.1439,3.28649 42.6439,3.61983 44,4.5C 46.4044,11.88 48.9044,19.2134 51.5,26.5C 56.5384,28.235 61.5384,30.0683 66.5,32C 69.8943,33.5652 70.2277,35.5652 67.5,38C 61.904,39.9754 56.404,42.142 51,44.5C 48.6667,51.8333 46.3333,59.1667 44,66.5C 41.9783,67.9909 40.3117,67.6576 39,65.5C 37.1555,58.4552 35.1555,51.4552 33,44.5C 27.596,42.142 22.096,39.9754 16.5,38C 13.6537,37.1207 12.987,35.4541 14.5,33C 20.8439,30.8866 27.0105,28.3866 33,25.5C 35.2745,18.1787 37.4411,10.8453 39.5,3.5 Z'/%3E%3C/g%3E%3Cg%3E%3Cpath style='opacity:0.896' fill='%23fbab42' d='M 17.5,45.5 C 19.1667,45.5 20.8333,45.5 22.5,45.5C 22.0353,50.3207 24.0353,53.4874 28.5,55C 29.7472,56.4936 29.7472,57.9936 28.5,59.5C 26.9411,60.0736 25.4411,60.7402 24,61.5C 23.1785,64.1168 22.6785,66.7835 22.5,69.5C 20.8333,69.5 19.1667,69.5 17.5,69.5C 17.1489,66.7623 16.4822,64.0956 15.5,61.5C 7.5157,58.4614 7.5157,55.4614 15.5,52.5C 16.5771,50.2706 17.2437,47.9372 17.5,45.5 Z'/%3E%3C/g%3E%3C/svg%3E">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.16.15/dist/css/uikit.min.css" />
    <link rel="stylesheet" href="./style10.css">

    <script type="text/javascript">
      function isMobile() {
          return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      }
      var link = './index_type10_m.html';
      if(isMobile()){
          location.href=link;
          location.replace(link);
      }
    </script>

    <!-- UIkit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.16.15/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.16.15/dist/js/uikit-icons.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="./js/hammer-2.0.8.js"></script>
    <script src="./js/data.js"></script>

</head>
<body>
    <div class="load_page">
        <p class="prg_txt">0%</p>
        <div class="loader"></div>
    </div>
    <script src="./js/load.js"></script>
    <!-- notification for small viewports and landscape oriented smartphones -->
<div class="device-notification">
    <a class="device-notification--logo" href="#0">
      <p>죄송합니다.</p>
    </a>
    <p class="device-notification--message">페이지 내에서 제공할 것이 많아서 해당 사이즈내에 화면을 표시할 수 없습니다.<br>접속 기기를 교체하거나 더 큰 화면에서 접속해주시길 바랍니다.</p>
</div>

  <div class="perspective effect-rotate-left">
    <div class="container"><div class="outer-nav--return"></div>
      <div id="viewport" class="l-viewport">
        <div class="l-wrapper">
          <header class="header">
            <a class="logo_item" href="javascript:void(0);" aria-label="Back to Home">Logo</a>
            <div class="header--nav-toggle">
              <span></span>
            </div>
            <ul class="display-mode">
                <li>
                    <label for="darkmode" class="blind">화면 모드 변경</label>
                    <div class="button-cover">
                        <div class="button r" id="themes_btn">
                        <input class="checkbox" type="checkbox" name="themes" id="darkmode" onchange="typeCheck('dark-theme')" checked>
                        <div class="knobs">
                            <span></span>
                        </div>
                        <div class="layer"></div>
                        </div>
                    </div>
                </li>
            </ul>
          </header>
          <nav class="l-side-nav">
            <ul class="side-nav">
              <li class="is-active"><span>Home</span></li>
              <li><span>Works</span></li>
              <li><span>Schedule</span></li>
              <li><span>Contact</span></li>
            </ul>
          </nav>
          <ul class="l-main-content main-content">
            <li class="l-section section section--is-active">
              <div class="intro">
                <div class="intro--banner">
                    <h1></h1>
                    <button class="cta">Contact ME
                        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                        <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                          <path d="M870,1167c-34-17-55-57-46-90c3-15,81-100,194-211l187-185l-565-1c-431,0-571-3-590-13c-55-28-64-94-18-137c21-20,33-20,597-20h575l-192-193C800,103,794,94,849,39c20-20,39-29,61-29c28,0,63,30,298,262c147,144,272,271,279,282c30,51,23,60-219,304C947,1180,926,1196,870,1167z"/>
                        </g>
                        </svg>
                        <span class="btn-background"></span>
                    </button>
                    <!-- Slider main container -->
                    <div class="swiper mySwiper">
                        <!-- Additional required wrapper -->
                        <div class="swiper-wrapper slideBox">
                            <!-- Slides -->
                        </div>
                        <div class="swiper-button-next">▶</div>
                        <div class="swiper-button-prev">◀</div>
                    </div>
                </div>
                <div class="intro--options">
                    <section class="profile_section">
                        <div class="profile_box">
                            <div class="profile-body">
                            </div>
                        </div>
                    </section>
                </div>
              </div>
            </li>
            <li class="l-section section">
              <div class="work">
                <h2 class="section_title">Gallery</h2>
                <section id="gallery">
                    <div  uk-filter="target: .js-filter">
                        <ul class="categoryBox uk-subnav uk-subnav-pill">
                        </ul>
                        <div id="galleryWrap" class="galleryBox js-filter" uk-lightbox="animation: slide">

                        </div>
                    </div>
                </section>
                </div>
            </li>
            <li class="l-section section">
              <div class="about">
                <div class="about--banner">
                    <h2 class="section_title">Schedule</h3>
                    <div>
                        <h4><strong class="scheduleYear"></strong> 일정</h4>
                        <div class="scheduleBox01 uk-column-1-2@s uk-column-1-6@m uk-column-1-7@l uk-column-divider">
                        </div>
                        <hr>
                        <div class="scheduleBox02 uk-column-1-2@s uk-column-1-6@m uk-column-1-7@l uk-column-divider">
                        </div>
                        <p class="txt_box round scheduleDesc"></p>
                    </div>
                </div>
              </div>
            </li>
            <li class="l-section section">
              <div class="contact">
                <div class="contact--lockup">
                    <dl>
                        <dt class="fw400"><h2 class="section_title">Contact</h2></dt>
                        <dd>
                            <p class="email_txt"></p>
                            <p class="txt_box round email_desc"></p>
                        </dd>
                    </dl>

                <div>
                    <dl>
                        <dt class="fw400">작업 의뢰</dt>
                        <dd>
                            <form class="form_box gform" method="post" action="https://script.google.com/macros/s/AKfycbzONunS0LZBNzbKEmRLsuglRua56wRJ4an9wvVS1EO_EZ8rnKd48v9-zkRRfonWNDjM/exec">
                                <fieldset class="uk-fieldset">
                                    <div class="uk-margin">
                                        <label for="name" >문의 카테고리</label>
                                        <select id="contact_category" name="contact_category" class="uk-select">
                                            <option>표지 슬롯 예약문의</option>
                                            <option>표지 외주문의</option>
                                            <option>방송용 일러스트 외주 문의</option>
                                            <option>기타 외주 문의</option>
                                        </select>
                                    </div>
                                    <div class="uk-margin">
                                        <label for="email">답장 받으실 이메일</label>
                                        <input id="email" name="email" class="uk-input" type="text" placeholder="답장 받으실 이메일" aria-label="Input" required="required">
                                    </div>
                                    <div class="uk-margin" style="display: flex; gap: 10px; justify-content: space-between;">
                                        <div style="flex-grow: 1;">
                                            <label for="company">발주처</label>
                                            <input id="company" name="company" class="uk-input" type="text" placeholder="발주처" aria-label="Input" required="required">
                                        </div>
                                        <div style="flex-grow: 1;">
                                            <label for="productname">작품명</label>
                                            <input id="productname" name="productname" class="uk-input" type="text" placeholder="작품명"aria-label="Input" required="required">
                                        </div>
                                    </div>
                                    <div class="uk-margin" style="display: flex; gap: 10px; justify-content: space-between;">
                                        <div style="flex-grow: 1;">
                                            <label for="deadline">희망 마감일</label>
                                            <input id="deadline" name="deadline" class="uk-input" type="date" placeholder="발주처" aria-label="Input" required="required">
                                        </div>
                                        <div style="flex-grow: 1;">
                                            <label for="pay">발주 예산</label>
                                            <input id="pay" name="pay" class="uk-input" type="text" placeholder="발주 예산"aria-label="Input" required="required">
                                        </div>
                                    </div>
                                    <div class="uk-margin">
                                        <label for="mail_con">발주 내용</label>
                                        <textarea id="mail_con" name="mail_con" class="uk-textarea" required="required"></textarea>
                                    </div>
                                </fieldset>
                                <div class="mail_loading"><lottie-player src="https://assets9.lottiefiles.com/packages/lf20_x62chJ.json"  background="transparent"  speed="1"  style="width:auto; height: 120px;"  loop  autoplay></lottie-player></div>
                                <button class="uk-button round fr mail_btn">보내기</button>
                                <div class="thankyou_message" style="display:none;">
                                    <p class="txt_box round email_desc mt0">
                                        <lottie-player src="https://assets1.lottiefiles.com/packages/lf20_3GBGBXE9Bv.json"  background="transparent"  speed="1"  style="width: 40px; height: 50px; margin: 0 auto;"  loop autoplay></lottie-player>
                                        메일이 전송 되었습니다.<br>확인 후 바로 답신 드리겠습니다.<br>감사합니다.<br>&nbsp;
                                    </p>
                                </div>
                            </form>
                        </dd>
                    </dl>
                </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <ul class="outer-nav">
      <li class="is-active">Home</li>
      <li>Works</li>
      <li>Schedule</li>
      <li>Contact</li>
    </ul>
  </div>


<script>
    var html = document.querySelector('html');

    function typeCheck(type){

        if(html.classList.length > 0){html.classList.remove(type);
            }else if(html.classList.length === 0){html.classList.add(type);
        };
    }

// 로고 이름 변경
document.querySelector('.intro--banner h1').innerHTML = `${banner.bannerTitle}`;
document.querySelector('.logo_item').innerHTML = `${banner.logoName}`;

//슬라이드 부분 데이터 박아넣기
let slideList = [];
portfolio.slice(0,5).forEach((content,idx) => {
    slideList.push(`
    <div class="swiper-slide product_img round">
        <img src="${content.img}" alt="${content.alt}">
    </div>
    `)
document.querySelector('.slideBox').innerHTML = slideList.join('');
});

//카테고리 편집
let categoryList = [`<li class="uk-active round" uk-filter-control="[data-current='최신']"><a href="#">최신</a></li>`];
        category.forEach((content,idx) => {
            categoryList.push(`
            <li uk-filter-control="[data-tag='${content.type}']"><a href="#">${content.name}</a></li>
            `)
        document.querySelector('.categoryBox').innerHTML = categoryList.join('');
        });

//갤러리 부분 데이터 박아넣기
    let currentCounter
    let totalCounter = portfolio.length
    let portfolioList = [];
    portfolio.forEach((content,idx) => {
            portfolioList.push(`
            <div data-tag="${content.tag}" data-current="${content.current}">
                <a href="${content.img}" class="hb">
                    <div class="c">
                        <img src="${content.img}" alt="${content.alt}"/>
                        <div class="txt">
                            <dl>
                                <dd class="em_block">
                                    <span class="uk-label">${content.tagname}</span>
                                </dd>
                                <dt><strong class="pro-title">${content.title}</strong></dt>
                            </dl>
                        </div>
                    </div>
                </a>
                <div class="fullBg">
                    <img src="${content.img}" alt="${content.alt}"/>
                </div>
            </div>
            `)
            document.querySelector('.galleryBox').innerHTML = portfolioList.join('');
        });

    //갤러리 가로 스크롤링 레이아웃
    $(document).ready(function(){
        var docWidth = $('#gallery').width(),
            $wrap = $('#gallery'),
            $images = $('#galleryWrap .hb'),
            slidesWidth = $wrap.width();

        $(window).on('resize', function(){
            docWidth = $('body').width();
            slidesWidth = $wrap.width();
        })

        $(document).mousemove(function(e) {
            var mouseX = e.pageX,
                offset = (mouseX / docWidth * slidesWidth - mouseX / 10);

            $images.css({
            '-webkit-transform': 'translate3d(' + -offset + 'px,0,0)',
                    'transform': 'translate3d(' + -offset + 'px,0,0)'
            });
        });
        })

    //스케쥴 부분 데이터 박아넣기
        document.querySelector('.scheduleYear').innerHTML = schedule.year;
        document.querySelector('.scheduleDesc').innerHTML = schedule.desc;
        let scheduleFirstBox = document.querySelector('.scheduleBox01');
        let scheduleSecondBox = document.querySelector('.scheduleBox02');
        let scheduleFirstList= [];
        let scheduleSecondList= [];

        schedule.firstHalf.forEach((schedule,idx) => {
            scheduleFirstList.push(`
            <div>
                <dl class="uk-description-list uk-description-list-divider">
                    <dt>${idx + 1}월</dt>
                    <dd><span class="uk-label schedule_check">${schedule}</span></dd>
                </dl>
            </div>
            `)
            scheduleFirstBox.innerHTML = scheduleFirstList.join('');
        });

        schedule.secondHalf.forEach((schedule,idx) => {
            scheduleSecondList.push(`
            <div>
                <dl class="uk-description-list uk-description-list-divider">
                    <dt>${idx + 7}월</dt>
                    <dd><span class="uk-label schedule_check">${schedule}</span></dd>
                </dl>
            </div>
            `)
            scheduleSecondBox.innerHTML = scheduleSecondList.join('');
        });

//스케쥴 뱃지 스타일 주기
let schedule_badge = document.querySelectorAll('.schedule_check');
        let badge_arr = [];
          schedule_badge.forEach((content) => {
            badge_arr.push(content.textContent);
          });
        badge_arr.forEach((currentElement, index, array) => {
            switch (currentElement) {
                case '마감':
                        schedule_badge[index].style.background = '#aaa';
                        schedule_badge[index].parentNode.parentNode.style.opacity = '0.5';
                    break;
                case '모집중':
                        schedule_badge[index].style.background = 'linear-gradient(to right, #61b9f3, #a161f3)';
                    break;
            }
        });

    //작가 프로필, form
        document.querySelector('.email_txt').innerHTML = profile.email;
        document.querySelector('.email_desc').innerHTML = profile.emaildesc;
        let profileBodyBox = document.querySelector('.profile_box .profile-body');
        let profileBodyBoxList= [];
        let n = Math.floor(Math.random() * (portfolio.length - 0 + 1)) + 0;
        profileBodyBoxList.push(`
            <div class="profile_con">
                <div class="flex-box">
                    <p>${profile.name}<span class="uk-text-meta uk-margin-remove-top"> - ${profile.subdesc}</span>
                      <br/>
                      <span class="profile_info uk-text-meta">${profile.info}</span>
                    </p>
                    <div class="link_box"></div>
                </div>
            </div>
            `)
        profileBodyBox.innerHTML = profileBodyBoxList.join('');

        let profileLinkBox = document.querySelector('.profile_box .profile-body .link_box');
        let profileLinkBoxList = [];
        profile.link.forEach((profile,idx) => {
            profileLinkBoxList.push(`
            <a href="${profile.url}" target="_blank">${profile.title}</a>
            `)
            profileLinkBox.innerHTML = profileLinkBoxList.join('');
        });

/*     //푸터 카피라이트
        document.querySelector('.copyright').innerHTML = `Copyright (C) ${schedule.year} (${profile.name}) all rights reserved.`;
 */
    //메일 전송전 로딩
    const mailSend = document.querySelector('.thankyou_message');
	const options = {
			root: null, // 뷰포트를 기준으로 타켓의 가시성 검사
			rootMargin: '0px 0px 0px 0px', // 확장 또는 축소
			threshold: 0, // 타켓의 가시성 0%일 때 옵저버 실행
		};
		const mailLoad = (entries, observer) => {

			entries.forEach((entry) => {
				if (entry.isIntersecting) {
                    document.querySelector('.mail_loading').style.display = 'none'
                    document.querySelector('.mail_btn').style.display = 'block'
				} else{
                    document.querySelector('.mail_btn').addEventListener('click',function(){
                        let mailCheck = 0;

                        const email = document.querySelector('#email').value;
                        const company = document.querySelector('#company').value;
                        const productname = document.querySelector('#productname').value;
                        const deadline = document.querySelector('#deadline').value;
                        const pay = document.querySelector('#pay').value;
                        const mail_con = document.querySelector('#mail_con').value;
                        if(email == '' || company == '' || productname == '' || deadline == '' || pay == '' || mail_con == ''){
                            mailCheck = 0;
                        }else{
                            mailCheck = 1;
                        }

                        //console.log(mailCheck);

                        if(mailCheck == 1){
                            document.querySelector('.mail_loading').style.display = 'block'
                            document.querySelector('.mail_btn').style.display = 'none'
                        }

                    });
				}
			});

		};
    const observer = new IntersectionObserver(mailLoad, options); //관찰자 초기화
	observer.observe(mailSend);

    //메일 전송 alert 닫기
        document.querySelector('.thankyou_message').addEventListener('click', function(){
            document.querySelector('.thankyou_message').style.display = 'none';
        });
    </script>


<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script>
    //스와이퍼 슬라이더
        var swiper = new Swiper(".mySwiper", {
            effect: "cards",
            grabCursor: true,
            autoplay: {
                delay: 1500,
                disableOnInteraction: false,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });

// 레이아웃 js
$( document ).ready(function() {

// DOMMouseScroll included for firefox support
var canScroll = true,
    scrollController = null;
$(this).on('mousewheel DOMMouseScroll', function(e){

  if (!($('.outer-nav').hasClass('is-vis'))) {

    //e.preventDefault();

    var delta = (e.originalEvent.wheelDelta) ? -e.originalEvent.wheelDelta : e.originalEvent.detail * 20;

    if (delta > 50 && canScroll) {
      canScroll = false;
      clearTimeout(scrollController);
      scrollController = setTimeout(function(){
        canScroll = true;
      }, 800);
      updateHelper(1);
    }
    else if (delta < -50 && canScroll) {
      canScroll = false;
      clearTimeout(scrollController);
      scrollController = setTimeout(function(){
        canScroll = true;
      }, 800);
      updateHelper(-1);
    }

  }

});

$('.side-nav li, .outer-nav li').click(function(){

  if (!($(this).hasClass('is-active'))) {

    var $this = $(this),
        curActive = $this.parent().find('.is-active'),
        curPos = $this.parent().children().index(curActive),
        nextPos = $this.parent().children().index($this),
        lastItem = $(this).parent().children().length - 1;

    updateNavs(nextPos);
    updateContent(curPos, nextPos, lastItem);

  }

});

$('.cta').click(function(){

  var curActive = $('.side-nav').find('.is-active'),
      curPos = $('.side-nav').children().index(curActive),
      lastItem = $('.side-nav').children().length - 1,
      nextPos = lastItem;

  updateNavs(lastItem);
  updateContent(curPos, nextPos, lastItem);

});

$('.logo_item').click(function(){

updateNavs(0);
updateContent(0, 0, 0);

});

// swipe support for touch devices
var targetElement = document.getElementById('viewport'),
    mc = new Hammer(targetElement);
mc.get('swipe').set({ direction: Hammer.DIRECTION_VERTICAL });
mc.on('swipeup swipedown', function(e) {

  updateHelper(e);

});

$(document).keyup(function(e){

  if (!($('.outer-nav').hasClass('is-vis'))) {
    e.preventDefault();
    updateHelper(e);
  }

});

// determine scroll, swipe, and arrow key direction
function updateHelper(param) {

  var curActive = $('.side-nav').find('.is-active'),
      curPos = $('.side-nav').children().index(curActive),
      lastItem = $('.side-nav').children().length - 1,
      nextPos = 0;

  if (param.type === "swipeup" || param.keyCode === 40 || param > 0) {
    if (curPos !== lastItem) {
      nextPos = curPos + 1;
      updateNavs(nextPos);
      updateContent(curPos, nextPos, lastItem);
    }
    else {
      updateNavs(nextPos);
      updateContent(curPos, nextPos, lastItem);
    }
  }
  else if (param.type === "swipedown" || param.keyCode === 38 || param < 0){
    if (curPos !== 0){
      nextPos = curPos - 1;
      updateNavs(nextPos);
      updateContent(curPos, nextPos, lastItem);
    }
    else {
      nextPos = lastItem;
      updateNavs(nextPos);
      updateContent(curPos, nextPos, lastItem);
    }
  }

}

// sync side and outer navigations
function updateNavs(nextPos) {

  $('.side-nav, .outer-nav').children().removeClass('is-active');
  $('.side-nav').children().eq(nextPos).addClass('is-active');
  $('.outer-nav').children().eq(nextPos).addClass('is-active');

}

// update main content area
function updateContent(curPos, nextPos, lastItem) {

  $('.main-content').children().removeClass('section--is-active');
  $('.main-content').children().eq(nextPos).addClass('section--is-active');
  $('.main-content .section').children().removeClass('section--next section--prev');

  if (curPos === lastItem && nextPos === 0 || curPos === 0 && nextPos === lastItem) {
    $('.main-content .section').children().removeClass('section--next section--prev');
  }
  else if (curPos < nextPos) {
    $('.main-content').children().eq(curPos).children().addClass('section--next');
  }
  else {
    $('.main-content').children().eq(curPos).children().addClass('section--prev');
  }

}

function outerNav() {

  $('.header--nav-toggle').click(function(){

    $('.perspective').addClass('perspective--modalview');
    setTimeout(function(){
      $('.perspective').addClass('effect-rotate-left--animate');
    }, 25);
    $('.outer-nav, .outer-nav li, .outer-nav--return').addClass('is-vis');

  });

  $('.outer-nav--return, .outer-nav li').click(function(){

    $('.perspective').removeClass('effect-rotate-left--animate');
    setTimeout(function(){
      $('.perspective').removeClass('perspective--modalview');
    }, 400);
    $('.outer-nav, .outer-nav li, .outer-nav--return').removeClass('is-vis');

  });

}

function workSlider() {

  $('.slider--prev, .slider--next').click(function() {

    var $this = $(this),
        curLeft = $('.slider').find('.slider--item-left'),
        curLeftPos = $('.slider').children().index(curLeft),
        curCenter = $('.slider').find('.slider--item-center'),
        curCenterPos = $('.slider').children().index(curCenter),
        curRight = $('.slider').find('.slider--item-right'),
        curRightPos = $('.slider').children().index(curRight),
        totalWorks = $('.slider').children().length,
        $left = $('.slider--item-left'),
        $center = $('.slider--item-center'),
        $right = $('.slider--item-right'),
        $item = $('.slider--item');

    $('.slider').animate({ opacity : 0 }, 400);

    setTimeout(function(){

    if ($this.hasClass('slider--next')) {
      if (curLeftPos < totalWorks - 1 && curCenterPos < totalWorks - 1 && curRightPos < totalWorks - 1) {
        $left.removeClass('slider--item-left').next().addClass('slider--item-left');
        $center.removeClass('slider--item-center').next().addClass('slider--item-center');
        $right.removeClass('slider--item-right').next().addClass('slider--item-right');
      }
      else {
        if (curLeftPos === totalWorks - 1) {
          $item.removeClass('slider--item-left').first().addClass('slider--item-left');
          $center.removeClass('slider--item-center').next().addClass('slider--item-center');
          $right.removeClass('slider--item-right').next().addClass('slider--item-right');
        }
        else if (curCenterPos === totalWorks - 1) {
          $left.removeClass('slider--item-left').next().addClass('slider--item-left');
          $item.removeClass('slider--item-center').first().addClass('slider--item-center');
          $right.removeClass('slider--item-right').next().addClass('slider--item-right');
        }
        else {
          $left.removeClass('slider--item-left').next().addClass('slider--item-left');
          $center.removeClass('slider--item-center').next().addClass('slider--item-center');
          $item.removeClass('slider--item-right').first().addClass('slider--item-right');
        }
      }
    }
    else {
      if (curLeftPos !== 0 && curCenterPos !== 0 && curRightPos !== 0) {
        $left.removeClass('slider--item-left').prev().addClass('slider--item-left');
        $center.removeClass('slider--item-center').prev().addClass('slider--item-center');
        $right.removeClass('slider--item-right').prev().addClass('slider--item-right');
      }
      else {
        if (curLeftPos === 0) {
          $item.removeClass('slider--item-left').last().addClass('slider--item-left');
          $center.removeClass('slider--item-center').prev().addClass('slider--item-center');
          $right.removeClass('slider--item-right').prev().addClass('slider--item-right');
        }
        else if (curCenterPos === 0) {
          $left.removeClass('slider--item-left').prev().addClass('slider--item-left');
          $item.removeClass('slider--item-center').last().addClass('slider--item-center');
          $right.removeClass('slider--item-right').prev().addClass('slider--item-right');
        }
        else {
          $left.removeClass('slider--item-left').prev().addClass('slider--item-left');
          $center.removeClass('slider--item-center').prev().addClass('slider--item-center');
          $item.removeClass('slider--item-right').last().addClass('slider--item-right');
        }
      }
    }

  }, 400);

  $('.slider').animate({ opacity : 1 }, 400);

  });

}

function transitionLabels() {

  $('.work-request--information input').focusout(function(){

    var textVal = $(this).val();

    if (textVal === "") {
      $(this).removeClass('has-value');
    }
    else {
      $(this).addClass('has-value');
    }

    // correct mobile device window position
    window.scrollTo(0, 0);

  });

}

outerNav();
workSlider();
transitionLabels();

});
</script>

<script data-cfasync="false" type="text/javascript" src="https://cdn.rawgit.com/dwyl/html-form-send-email-via-google-script-without-server/master/form-submission-handler.js"></script>
</body>
</html>
